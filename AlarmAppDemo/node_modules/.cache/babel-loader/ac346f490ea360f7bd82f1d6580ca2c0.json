{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\BIGSOLID\\\\CCO-LD-Avatar\\\\AlarmAppDemo\\\\src\\\\containers\\\\Setup\\\\setup.component.js\";\nimport React from 'react';\nimport isLoading from \"../../hocs/isLoading\";\nimport { withTranslation } from 'react-i18next';\nimport { SetupWrapper, SetupCard } from \"./setup.style\";\nimport { withToastManager } from 'react-toast-notifications';\nimport StepSlider from \"..\\\\..\\\\components\\\\Utils\\\\StepSlider\\\\StepSlider\";\nimport Clock from \"..\\\\..\\\\components\\\\Utils\\\\Clock\\\\Clock\";\n/**\r\n * Welcome Page UI component, containing the styled components for the Welcome Page\r\n * Image component will get theimage context and resolve the value to render.\r\n * @param props\r\n */\n\nvar getTransportationPreference = function getTransportationPreference(transPref) {\n  if (transPref) {\n    return transPref.map(function (tP) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, \"Today's Transportation Method:\", tP.mot.split(\"/\")[tP.mot.split(\"/\").length - 1]);\n    });\n  } else {\n    return \"No Results\";\n  }\n};\n\nvar getWorkGeo = function getWorkGeo(workGeo) {\n  if (workGeo) {\n    return workGeo.map(function (wG) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Work Location: \", wG.lat, \", \", wG.lon);\n    });\n  } else {\n    return \"No results\";\n  }\n}; // const getTest = test => {\n//   if (test) {\n//       return test.map(t => (\n//         <p>\n//           test: {t.mot}\n//         </p>\n//       ));\n//   }\n//   else {\n//     return \"No results\";\n//   }\n// };\n\n\nvar getHomeGeo = function getHomeGeo(homeGeo) {\n  if (homeGeo) {\n    return homeGeo.map(function (hG) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Home Location: \", hG.lat, \", \", hG.lon);\n    });\n  } else {\n    return \"No results\";\n  }\n};\n\nvar getDriveTime = function getDriveTime(driveTimeP, driveTimeB, driveTimeS, driveTimeF) {\n  if (driveTimeP && driveTimeB && driveTimeS && driveTimeF) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, driveTimeP.toFixed(2), \" minutes by foot\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), driveTimeB.toFixed(2), \" minutes by bicycle\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), driveTimeS.toFixed(2), \" minutes by car (shortest)\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), driveTimeF.toFixed(2), \" minutes by car (fastest)\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }));\n  } else {\n    return \"No results\";\n  }\n};\n\nvar getWeather = function getWeather(homeWeather, workWeather) {\n  if (homeWeather || workWeather) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Home Weather: \", homeWeather, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), \"Work Weather: \", workWeather);\n  } else {\n    return \"No results\";\n  }\n};\n\nvar getWeatherPenalty = function getWeatherPenalty(workWeatherPenalty, homeWeatherPenalty) {\n  if (homeWeatherPenalty || workWeatherPenalty) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Home weather penalty: \", homeWeatherPenalty, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), \"Work weather penalty: \", workWeatherPenalty);\n  } else {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Home weather penalty: 0\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), \"Work weather penalty: 0\");\n  }\n};\n\nvar checkTimeString = function checkTimeString(timeString) {\n  if (timeString.length !== 4) {\n    return false;\n  } else if (parseInt(timeString.substring(0, 2)) > 24) {\n    return false;\n  } else if (parseInt(timeString.substring(2, 4)) > 60) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nvar calcTime = function calcTime() {\n  var workTime = document.getElementById(\"workTime\").value;\n\n  if (checkTimeString(workTime)) {\n    var prepTime = parseInt(document.getElementById(\"slider\").innerText);\n    var homeWeatherTime = parseInt(document.getElementById(\"hwp\").innerText);\n    var workWeatherTime = parseInt(document.getElementById(\"wwp\").innerText);\n    var driveTime = parseInt(document.getElementById(\"dt\").innerText);\n    var totalTime = (prepTime + driveTime + homeWeatherTime + workWeatherTime).toFixed(2);\n    var MILLIS = 60000;\n    var days = MILLIS * 60 * 24;\n    var alarmTime = new Date();\n    console.log(alarmTime);\n    var hour = parseInt(workTime.substring(0, 2));\n    var minutes = parseInt(workTime.substring(2, 4));\n    alarmTime.setHours(hour);\n    alarmTime.setMinutes(minutes);\n    alarmTime.setSeconds(0);\n    alarmTime = new Date(alarmTime - totalTime * MILLIS + days);\n    document.getElementById(\"wakeUpTimeDisplay\").innerHTML = \"<h3>Alarm set for: \" + alarmTime.toLocaleTimeString() + \"</h3>\";\n  } else {\n    alert(\"Bad time format\");\n  }\n};\n\nvar SetupPageContent = function SetupPageContent(props) {\n  var name = props.name,\n      t = props.t;\n  return React.createElement(SetupWrapper, {\n    \"data-testid\": \"welcome-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(SetupCard, {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, t('welcome.welcome'), \", \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, name)), React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      width: '98%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"How long do you need to get ready for work?\"), React.createElement(\"div\", {\n    style: {\n      paddingTop: \"3em\",\n      width: \"60%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"workTime\",\n    placeholder: \"When do you start work? <24hr format ex: 1430 or 0500>\",\n    style: {\n      border: \"2px solid #8CCAF2\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), React.createElement(StepSlider, {\n    id: \"prepTime\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: calcTime,\n    styles: {\n      width: '100'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"Set Alarm\")), React.createElement(\"div\", {\n    id: \"hwp\",\n    style: {\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, props.homeWeatherPenalty), React.createElement(\"div\", {\n    id: \"wwp\",\n    style: {\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, props.workWeatherPenalty), React.createElement(\"div\", {\n    id: \"dt\",\n    style: {\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, props.driveTime), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"wakeUpTimeDisplay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      width: '98%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, \"Query Results:\", getWorkGeo(props.workGeo), getHomeGeo(props.homeGeo)), React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      width: '98%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }), \"Travel Time:\", getDriveTime(props.driveTimeP, props.driveTimeB, props.driveTimeS, props.driveTimeF)), React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      width: '98%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }), \"Weather info:\", getWeather(props.homeWeather, props.workWeather), getWeatherPenalty(props.homeWeatherPenalty, props.workWeatherPenalty)), React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      width: '98%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }), \"Transportation info:\", getTransportationPreference(props.transPref)), React.createElement(Clock, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  })));\n};\n\nexport { SetupPageContent };\nexport default withTranslation()(isLoading(withToastManager(SetupPageContent)));","map":{"version":3,"sources":["C:\\Users\\jason\\Documents\\APG\\Solid\\BIGSOLID\\CCO-LD-Avatar\\AlarmAppDemo\\src\\containers\\Setup\\setup.component.js"],"names":["React","isLoading","withTranslation","SetupWrapper","SetupCard","withToastManager","StepSlider","Clock","getTransportationPreference","transPref","map","tP","mot","split","length","getWorkGeo","workGeo","wG","lat","lon","getHomeGeo","homeGeo","hG","getDriveTime","driveTimeP","driveTimeB","driveTimeS","driveTimeF","toFixed","getWeather","homeWeather","workWeather","getWeatherPenalty","workWeatherPenalty","homeWeatherPenalty","checkTimeString","timeString","parseInt","substring","calcTime","workTime","document","getElementById","value","prepTime","innerText","homeWeatherTime","workWeatherTime","driveTime","totalTime","MILLIS","days","alarmTime","Date","console","log","hour","minutes","setHours","setMinutes","setSeconds","innerHTML","toLocaleTimeString","alert","SetupPageContent","props","name","t","textAlign","width","marginLeft","marginRight","paddingTop","border","display"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP;AACA,SAAQC,eAAR,QAA+B,eAA/B;AACA,SACEC,YADF,EAEEC,SAFF;AAIA,SAASC,gBAAT,QAAiC,2BAAjC;AACA,OAAOC,UAAP,MAAuB,mDAAvB;AACA,OAAOC,KAAP,MAAkB,yCAAlB;AAEA;;;;;;AAME,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAAC,SAAS,EAAI;AAE/C,MAAIA,SAAJ,EAAe;AACb,WAAOA,SAAS,CAACC,GAAV,CAAc,UAAAC,EAAE;AAAA,aACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACiCA,EAAE,CAACC,GAAH,CAAOC,KAAP,CAAa,GAAb,EAAkBF,EAAE,CAACC,GAAH,CAAOC,KAAP,CAAa,GAAb,EAAkBC,MAAlB,GAAyB,CAA3C,CADjC,CADqB;AAAA,KAAhB,CAAP;AAMD,GAPD,MAQK;AACH,WAAO,YAAP;AACD;AACF,CAbD;;AAeA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,OAAO,EAAI;AAC5B,MAAIA,OAAJ,EAAa;AACT,WAAOA,OAAO,CAACN,GAAR,CAAY,UAAAO,EAAE;AAAA,aACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACkBA,EAAE,CAACC,GADrB,QAC4BD,EAAE,CAACE,GAD/B,CADmB;AAAA,KAAd,CAAP;AAKH,GAND,MAOK;AACH,WAAO,YAAP;AACD;AACF,CAXD,C,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,OAAO,EAAI;AAC5B,MAAIA,OAAJ,EAAa;AACT,WAAOA,OAAO,CAACX,GAAR,CAAY,UAAAY,EAAE;AAAA,aACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACkBA,EAAE,CAACJ,GADrB,QAC4BI,EAAE,CAACH,GAD/B,CADmB;AAAA,KAAd,CAAP;AAKH,GAND,MAOK;AACH,WAAO,YAAP;AACD;AACF,CAXD;;AAaA,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAACC,UAAD,EAAYC,UAAZ,EAAuBC,UAAvB,EAAkCC,UAAlC,EAAiD;AACpE,MAAIH,UAAU,IAAIC,UAAd,IAA4BC,UAA5B,IAA0CC,UAA9C,EAA0D;AACxD,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGH,UAAU,CAACI,OAAX,CAAmB,CAAnB,CADH,sBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGGH,UAAU,CAACG,OAAX,CAAmB,CAAnB,CAHH,yBAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKGF,UAAU,CAACE,OAAX,CAAmB,CAAnB,CALH,gCAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAOGD,UAAU,CAACC,OAAX,CAAmB,CAAnB,CAPH,+BAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF;AAaD,GAdD,MAcO;AACL,WAAO,YAAP;AACD;AACF,CAlBD;;AAoBA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,WAAD,EAAaC,WAAb,EAA6B;AAC9C,MAAKD,WAAD,IAAkBC,WAAtB,EAAoC;AAClC,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACiBD,WADjB,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,oBAGiBC,WAHjB,CADF;AAQD,GATD,MASO;AACL,WAAO,YAAP;AACD;AACF,CAbD;;AAeA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,kBAAD,EAAoBC,kBAApB,EAA2C;AACnE,MAAKA,kBAAD,IAAyBD,kBAA7B,EAAkD;AAChD,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACyBC,kBADzB,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,4BAGyBD,kBAHzB,CADF;AAQD,GATD,MASO;AACL,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,4BADF;AAOD;AACF,CAnBD;;AAqBA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAACC,UAAD,EAAgB;AACtC,MAAIA,UAAU,CAACtB,MAAX,KAAsB,CAA1B,EAA4B;AAC1B,WAAO,KAAP;AACD,GAFD,MAGK,IAAIuB,QAAQ,CAACD,UAAU,CAACE,SAAX,CAAqB,CAArB,EAAuB,CAAvB,CAAD,CAAR,GAAsC,EAA1C,EAA6C;AAChD,WAAO,KAAP;AACD,GAFI,MAGA,IAAID,QAAQ,CAACD,UAAU,CAACE,SAAX,CAAqB,CAArB,EAAuB,CAAvB,CAAD,CAAR,GAAsC,EAA1C,EAA6C;AAChD,WAAO,KAAP;AACD,GAFI,MAGA;AACH,WAAO,IAAP;AACD;AACF,CAbD;;AAeA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAAnD;;AAEA,MAAIR,eAAe,CAACK,QAAD,CAAnB,EAA8B;AAE5B,QAAII,QAAQ,GAAGP,QAAQ,CAACI,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCG,SAAnC,CAAvB;AACA,QAAIC,eAAe,GAAGT,QAAQ,CAACI,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BG,SAAhC,CAA9B;AACA,QAAIE,eAAe,GAAGV,QAAQ,CAACI,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BG,SAAhC,CAA9B;AACA,QAAIG,SAAS,GAAGX,QAAQ,CAACI,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BG,SAA/B,CAAxB;AACA,QAAII,SAAS,GAAG,CAACL,QAAQ,GAAGI,SAAX,GAAuBF,eAAvB,GAAyCC,eAA1C,EAA2DnB,OAA3D,CAAmE,CAAnE,CAAhB;AAEA,QAAMsB,MAAM,GAAG,KAAf;AACA,QAAMC,IAAI,GAAGD,MAAM,GAAC,EAAP,GAAU,EAAvB;AACA,QAAIE,SAAS,GAAG,IAAIC,IAAJ,EAAhB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACA,QAAII,IAAI,GAAGnB,QAAQ,CAACG,QAAQ,CAACF,SAAT,CAAmB,CAAnB,EAAqB,CAArB,CAAD,CAAnB;AACA,QAAImB,OAAO,GAAGpB,QAAQ,CAACG,QAAQ,CAACF,SAAT,CAAmB,CAAnB,EAAqB,CAArB,CAAD,CAAtB;AACAc,IAAAA,SAAS,CAACM,QAAV,CAAmBF,IAAnB;AACAJ,IAAAA,SAAS,CAACO,UAAV,CAAqBF,OAArB;AACAL,IAAAA,SAAS,CAACQ,UAAV,CAAqB,CAArB;AACAR,IAAAA,SAAS,GAAG,IAAIC,IAAJ,CAAWD,SAAS,GAAEH,SAAS,GAACC,MAAtB,GAAiCC,IAA3C,CAAZ;AACAV,IAAAA,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CmB,SAA7C,GAAyD,wBAAwBT,SAAS,CAACU,kBAAV,EAAxB,GAAyD,OAAlH;AACD,GAnBD,MAoBK;AACHC,IAAAA,KAAK,CAAC,iBAAD,CAAL;AACD;AACF,CA1BD;;AA4BA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,KAAK,EAAI;AAAA,MACxBC,IADwB,GACZD,KADY,CACxBC,IADwB;AAAA,MAClBC,CADkB,GACZF,KADY,CAClBE,CADkB;AAGhC,SACE,oBAAC,YAAD;AAAc,mBAAY,iBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,CAAC,CAAC,iBAAD,CADJ,QAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOD,IAAP,CAD1B,CADF,EAKE;AAAK,IAAA,KAAK,EAAE;AAACE,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,KAAK,EAAC,KAA1B;AAAgCC,MAAAA,UAAU,EAAC,MAA3C;AAAkDC,MAAAA,WAAW,EAAC;AAA9D,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDALF,EAOE;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAC,KAAZ;AAAkBH,MAAAA,KAAK,EAAC;AAAxB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,EAAE,EAAC,UAAV;AAAqB,IAAA,WAAW,EAAC,wDAAjC;AAA0F,IAAA,KAAK,EAAE;AAACI,MAAAA,MAAM,EAAC;AAAR,KAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,EAWE,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAQ,IAAA,OAAO,EAAElC,QAAjB;AAA2B,IAAA,MAAM,EAAE;AAAC8B,MAAAA,KAAK,EAAC;AAAP,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CAbF,EAkBE;AAAK,IAAA,EAAE,EAAC,KAAR;AAAc,IAAA,KAAK,EAAE;AAACK,MAAAA,OAAO,EAAC;AAAT,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,KAAK,CAAC/B,kBADT,CAlBF,EAqBE;AAAK,IAAA,EAAE,EAAC,KAAR;AAAe,IAAA,KAAK,EAAE;AAACwC,MAAAA,OAAO,EAAC;AAAT,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,KAAK,CAAChC,kBADT,CArBF,EAwBE;AAAK,IAAA,EAAE,EAAC,IAAR;AAAc,IAAA,KAAK,EAAE;AAACyC,MAAAA,OAAO,EAAC;AAAT,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,KAAK,CAACjB,SADT,CAxBF,EA4BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BA,EA4BK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BL,EA8BA;AAAK,IAAA,EAAE,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BA,EAiCA;AAAK,IAAA,KAAK,EAAE;AAACoB,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,KAAK,EAAC,KAA1B;AAAgCC,MAAAA,UAAU,EAAC,MAA3C;AAAkDC,MAAAA,WAAW,EAAC;AAA9D,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGMxD,UAAU,CAACkD,KAAK,CAACjD,OAAP,CAHhB,EAMMI,UAAU,CAAC6C,KAAK,CAAC5C,OAAP,CANhB,CAjCA,EA2CA;AAAK,IAAA,KAAK,EAAE;AAAC+C,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,KAAK,EAAC,KAA1B;AAAgCC,MAAAA,UAAU,EAAC,MAA3C;AAAkDC,MAAAA,WAAW,EAAC;AAA9D,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADP,kBAGGhD,YAAY,CAAC0C,KAAK,CAACzC,UAAP,EAAkByC,KAAK,CAACxC,UAAxB,EAAmCwC,KAAK,CAACvC,UAAzC,EAAoDuC,KAAK,CAACtC,UAA1D,CAHf,CA3CA,EAiDA;AAAK,IAAA,KAAK,EAAE;AAACyC,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,KAAK,EAAC,KAA1B;AAAgCC,MAAAA,UAAU,EAAC,MAA3C;AAAkDC,MAAAA,WAAW,EAAC;AAA9D,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADP,mBAGG1C,UAAU,CAACoC,KAAK,CAACnC,WAAP,EAAmBmC,KAAK,CAAClC,WAAzB,CAHb,EAIGC,iBAAiB,CAACiC,KAAK,CAAC/B,kBAAP,EAA0B+B,KAAK,CAAChC,kBAAhC,CAJpB,CAjDA,EAwDA;AAAK,IAAA,KAAK,EAAE;AAACmC,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,KAAK,EAAC,KAA1B;AAAgCC,MAAAA,UAAU,EAAC,MAA3C;AAAkDC,MAAAA,WAAW,EAAC;AAA9D,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADP,0BAGG/D,2BAA2B,CAACyD,KAAK,CAACxD,SAAP,CAH9B,CAxDA,EAoEA,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApEA,CADF,CADF;AA2ED,CA9ED;;AAgFA,SAASuD,gBAAT;AACA,eAAe9D,eAAe,GAC5BD,SAAS,CAACI,gBAAgB,CAAC2D,gBAAD,CAAjB,CADmB,CAA9B","sourcesContent":["import React from 'react';\r\nimport isLoading from '@hocs/isLoading';\r\nimport {withTranslation } from 'react-i18next';\r\nimport {\r\n  SetupWrapper,\r\n  SetupCard\r\n} from './setup.style';\r\nimport { withToastManager } from 'react-toast-notifications';\r\nimport StepSlider from '..\\\\..\\\\components\\\\Utils\\\\StepSlider\\\\StepSlider';\r\nimport Clock from '..\\\\..\\\\components\\\\Utils\\\\Clock\\\\Clock';\r\n\r\n/**\r\n * Welcome Page UI component, containing the styled components for the Welcome Page\r\n * Image component will get theimage context and resolve the value to render.\r\n * @param props\r\n */\r\n\r\n  const getTransportationPreference = transPref => {\r\n\r\n    if (transPref) {\r\n      return transPref.map(tP => (\r\n        <p>\r\n          Today's Transportation Method:{tP.mot.split(\"/\")[tP.mot.split(\"/\").length-1]}\r\n        </p>\r\n      ));\r\n\r\n    }\r\n    else {\r\n      return \"No Results\"\r\n    }\r\n  }\r\n\r\n  const getWorkGeo = workGeo => {\r\n    if (workGeo) {\r\n        return workGeo.map(wG => (\r\n          <p>\r\n            Work Location: {wG.lat}, {wG.lon}\r\n          </p>\r\n        ));\r\n    }\r\n    else {\r\n      return \"No results\";\r\n    }\r\n  };\r\n\r\n  // const getTest = test => {\r\n  //   if (test) {\r\n  //       return test.map(t => (\r\n  //         <p>\r\n  //           test: {t.mot}\r\n  //         </p>\r\n  //       ));\r\n  //   }\r\n  //   else {\r\n  //     return \"No results\";\r\n  //   }\r\n  // };\r\n\r\n  const getHomeGeo = homeGeo => {\r\n    if (homeGeo) {\r\n        return homeGeo.map(hG => (\r\n          <p>\r\n            Home Location: {hG.lat}, {hG.lon}\r\n          </p>\r\n        ));\r\n    } \r\n    else {\r\n      return \"No results\";\r\n    }\r\n  };\r\n\r\n  const getDriveTime = (driveTimeP,driveTimeB,driveTimeS,driveTimeF) => {\r\n    if (driveTimeP && driveTimeB && driveTimeS && driveTimeF) {\r\n      return (\r\n        <p>\r\n          {driveTimeP.toFixed(2)} minutes by foot\r\n          <br/>\r\n          {driveTimeB.toFixed(2)} minutes by bicycle\r\n          <br/>\r\n          {driveTimeS.toFixed(2)} minutes by car (shortest)\r\n          <br/>\r\n          {driveTimeF.toFixed(2)} minutes by car (fastest)\r\n          <br/>\r\n\r\n        </p>\r\n      );\r\n    } else {\r\n      return \"No results\";\r\n    }\r\n  };\r\n  \r\n  const getWeather = (homeWeather,workWeather) => {\r\n    if ((homeWeather) || (workWeather)) {\r\n      return (\r\n        <p>\r\n          Home Weather: {homeWeather}\r\n          <br/>\r\n          Work Weather: {workWeather}\r\n        </p>\r\n  \r\n      );\r\n    } else {\r\n      return \"No results\";\r\n    }\r\n  };\r\n  \r\n  const getWeatherPenalty = (workWeatherPenalty,homeWeatherPenalty) => {\r\n    if ((homeWeatherPenalty) || (workWeatherPenalty)) {\r\n      return (\r\n        <p>\r\n          Home weather penalty: {homeWeatherPenalty}\r\n          <br/>\r\n          Work weather penalty: {workWeatherPenalty}\r\n        </p>\r\n  \r\n      );\r\n    } else {\r\n      return (\r\n        <p>\r\n          Home weather penalty: 0\r\n          <br/>\r\n          Work weather penalty: 0\r\n        </p>\r\n      )\r\n    }\r\n  };\r\n  \r\n  const checkTimeString = (timeString) => {\r\n    if (timeString.length !== 4){\r\n      return false;\r\n    }\r\n    else if (parseInt(timeString.substring(0,2)) > 24){\r\n      return false;\r\n    }\r\n    else if (parseInt(timeString.substring(2,4)) > 60){\r\n      return false;\r\n    }\r\n    else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  const calcTime = () => {\r\n    let workTime = document.getElementById(\"workTime\").value;\r\n\r\n    if (checkTimeString(workTime)){\r\n\r\n      let prepTime = parseInt(document.getElementById(\"slider\").innerText);\r\n      let homeWeatherTime = parseInt(document.getElementById(\"hwp\").innerText);\r\n      let workWeatherTime = parseInt(document.getElementById(\"wwp\").innerText);\r\n      let driveTime = parseInt(document.getElementById(\"dt\").innerText);\r\n      let totalTime = (prepTime + driveTime + homeWeatherTime + workWeatherTime).toFixed(2)\r\n    \r\n      const MILLIS = 60000;\r\n      const days = MILLIS*60*24\r\n      let alarmTime = new Date();\r\n      console.log(alarmTime)\r\n      let hour = parseInt(workTime.substring(0,2))\r\n      let minutes = parseInt(workTime.substring(2,4))\r\n      alarmTime.setHours(hour)\r\n      alarmTime.setMinutes(minutes)\r\n      alarmTime.setSeconds(0)\r\n      alarmTime = new Date(((alarmTime-(totalTime*MILLIS)) + days))\r\n      document.getElementById(\"wakeUpTimeDisplay\").innerHTML = \"<h3>Alarm set for: \" + alarmTime.toLocaleTimeString() + \"</h3>\"\r\n    }\r\n    else {\r\n      alert(\"Bad time format\")\r\n    }\r\n  }\r\n\r\n  const SetupPageContent = props => {\r\n    const { name, t } = props;\r\n    \r\n    return (\r\n      <SetupWrapper data-testid=\"welcome-wrapper\">\r\n        <SetupCard className=\"card\">\r\n          <h3>\r\n            {t('welcome.welcome')}, <span>{name}</span>\r\n          </h3>\r\n          \r\n          <div style={{textAlign:'center',width:'98%',marginLeft:'auto',marginRight:'auto'}}>How long do you need to get ready for work?</div>\r\n        \r\n          <div style={{paddingTop:\"3em\",width:\"60%\"}}>\r\n            <input id=\"workTime\" placeholder=\"When do you start work? <24hr format ex: 1430 or 0500>\" style={{border:\"2px solid #8CCAF2\"}}/>\r\n          </div>\r\n\r\n          <StepSlider id=\"prepTime\" />\r\n            \r\n          <div>\r\n            <br/>\r\n            <button onClick={calcTime} styles={{width:'100'}}>Set Alarm</button>\r\n          </div>\r\n\r\n          <div id=\"hwp\" style={{display:\"none\"}}>\r\n            {props.homeWeatherPenalty}\r\n          </div>\r\n          <div id=\"wwp\"  style={{display:\"none\"}}>\r\n            {props.workWeatherPenalty}\r\n          </div>\r\n          <div id=\"dt\"  style={{display:\"none\"}}>\r\n            {props.driveTime}\r\n          </div>\r\n\r\n        <br/><br/>\r\n          \r\n        <div id=\"wakeUpTimeDisplay\">\r\n        </div>\r\n\r\n        <div style={{textAlign:'center',width:'98%',marginLeft:'auto',marginRight:'auto'}}>\r\n          Query Results:\r\n            {\r\n              getWorkGeo(props.workGeo)\r\n            }\r\n            {\r\n              getHomeGeo(props.homeGeo)\r\n            }\r\n        </div>\r\n  \r\n        <div style={{textAlign:'center',width:'98%',marginLeft:'auto',marginRight:'auto'}}>\r\n          <br/><br/>\r\n          Travel Time:\r\n          {getDriveTime(props.driveTimeP,props.driveTimeB,props.driveTimeS,props.driveTimeF)}\r\n        </div>\r\n  \r\n        <div style={{textAlign:'center',width:'98%',marginLeft:'auto',marginRight:'auto'}}>\r\n          <br/><br/>\r\n          Weather info: \r\n          {getWeather(props.homeWeather,props.workWeather)}\r\n          {getWeatherPenalty(props.homeWeatherPenalty,props.workWeatherPenalty)}\r\n        </div>\r\n  \r\n        <div style={{textAlign:'center',width:'98%',marginLeft:'auto',marginRight:'auto'}}>\r\n          <br/><br/>\r\n          Transportation info: \r\n          {getTransportationPreference(props.transPref)}\r\n        </div>\r\n            \r\n        {/* <div>\r\n            <br/>\r\n            New Query Info:\r\n            {getTest(props.test)}\r\n        </div> */}\r\n\r\n        <Clock/>\r\n\r\n        </SetupCard>\r\n      </SetupWrapper>\r\n    );\r\n  };\r\n  \r\n  export { SetupPageContent };\r\n  export default withTranslation()(\r\n    isLoading(withToastManager(SetupPageContent))\r\n  );\r\n"]},"metadata":{},"sourceType":"module"}