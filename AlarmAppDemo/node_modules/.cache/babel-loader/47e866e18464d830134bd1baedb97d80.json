{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\jason\\\\Documents\\\\APG\\\\Solid\\\\generatorTest\\\\wakeup-react\\\\src\\\\components\\\\AuthNavBar\\\\children\\\\NavbarProfile\\\\nav-bar-profile.component.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  background: #cccccc;\\n  display: block;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  box-sizing: border-box;\\n  width: 100%;\\n  height: 100%;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 42px;\\n  height: 42px;\\n  border-radius: 50%;\\n  background-size: cover;\\n  overflow: hidden;\\n  visibility: \", \";\\n  display: \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Dropdown } from \"../../../Utils\";\nimport auth from \"solid-auth-client\";\nexport var ImageContainer = styled.div(_templateObject(), function (_ref) {\n  var show = _ref.show;\n  return show ? \"visible\" : \"hidden\";\n}, function (_ref2) {\n  var show = _ref2.show;\n  return show ? \"block\" : \"none\";\n});\nexport var Img = styled.img(_templateObject2());\nexport var LoadingImage = styled(ImageContainer)(_templateObject3());\n\nvar NavBarProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NavBarProfile, _Component);\n\n  function NavBarProfile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NavBarProfile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NavBarProfile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      imageLoaded: false\n    };\n    _this.onImageLoaded =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", _this.setState({\n                imageLoaded: true\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.logOut =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return auth.logout();\n\n            case 3:\n              // Remove localStorage\n              localStorage.removeItem(\"solid-auth-client\"); // Redirect to login page\n\n              _this.props.history.push(\"/login\");\n\n              _context2.next = 9;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[0, 7]]);\n    }));\n    return _this;\n  }\n\n  _createClass(NavBarProfile, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          t = _this$props.t,\n          img = _this$props.img;\n      var imageLoaded = this.state.imageLoaded;\n      var profileOpts = [// {\n      //   label:  t(\"navBar.profile\"),\n      //   onClick: this.profileRedirect\n      // },\n      {\n        label: t(\"navBar.logOut\"),\n        onClick: this.logOut\n      }];\n      return img ? React.createElement(Dropdown, {\n        actions: profileOpts,\n        className: \"nav-bar--profile\",\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(ImageContainer, {\n        show: imageLoaded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), !imageLoaded && React.createElement(LoadingImage, {\n        show: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return NavBarProfile;\n}(Component);\n\nexport default NavBarProfile;","map":{"version":3,"sources":["C:\\Users\\jason\\Documents\\APG\\Solid\\generatorTest\\wakeup-react\\src\\components\\AuthNavBar\\children\\NavbarProfile\\nav-bar-profile.component.js"],"names":["React","Component","styled","Dropdown","auth","ImageContainer","div","show","Img","img","LoadingImage","NavBarProfile","state","imageLoaded","onImageLoaded","setState","logOut","logout","localStorage","removeItem","props","history","push","t","profileOpts","label","onClick"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,QAAT;AAEA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,OAAO,IAAMC,cAAc,GAAGH,MAAM,CAACI,GAAV,oBAMX;AAAA,MAAGC,IAAH,QAAGA,IAAH;AAAA,SAAeA,IAAI,GAAG,SAAH,GAAe,QAAlC;AAAA,CANW,EAOd;AAAA,MAAGA,IAAH,SAAGA,IAAH;AAAA,SAAeA,IAAI,GAAG,OAAH,GAAa,MAAhC;AAAA,CAPc,CAApB;AAUP,OAAO,IAAMC,GAAG,GAAGN,MAAM,CAACO,GAAV,oBAAT;AAMP,OAAO,IAAMC,YAAY,GAAGR,MAAM,CAACG,cAAD,CAAT,oBAAlB;;IAKDM,a;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,WAAW,EAAE;AADP,K;UAMRC,a;;;;6BAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAY,MAAKC,QAAL,CAAc;AAAEF,gBAAAA,WAAW,EAAE;AAAf,eAAd,CAAZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;UAChBG,M;;;;6BAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAECZ,IAAI,CAACa,MAAL,EAFD;;AAAA;AAGL;AACAC,cAAAA,YAAY,CAACC,UAAb,CAAwB,mBAAxB,EAJK,CAKL;;AACA,oBAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;;AANK;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;6BAWA;AAAA,wBACY,KAAKF,KADjB;AAAA,UACCG,CADD,eACCA,CADD;AAAA,UACId,GADJ,eACIA,GADJ;AAAA,UAECI,WAFD,GAEiB,KAAKD,KAFtB,CAECC,WAFD;AAIP,UAAMW,WAAW,GAAG,CAClB;AACA;AACA;AACA;AACA;AACEC,QAAAA,KAAK,EAAEF,CAAC,CAAC,eAAD,CADV;AAEEG,QAAAA,OAAO,EAAE,KAAKV;AAFhB,OALkB,CAApB;AAWA,aAAOP,GAAG,GACR,oBAAC,QAAD;AAAU,QAAA,OAAO,EAAEe,WAAnB;AAAgC,QAAA,SAAS,EAAC,kBAA1C;AAA6D,QAAA,KAAK,EAAE,IAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AAAgB,QAAA,IAAI,EAAEX,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EASG,CAACA,WAAD,IAAgB,oBAAC,YAAD;AAAc,QAAA,IAAI,EAAE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATnB,CADQ,GAaR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF;AAeD;;;;EAjDyBZ,S;;AAoD5B,eAAeU,aAAf","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Dropdown } from \"@util-components\";\n\nimport auth from \"solid-auth-client\";\n\nexport const ImageContainer = styled.div`\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  visibility: ${({ show }) => (show ? \"visible\" : \"hidden\")};\n  display: ${({ show }) => (show ? \"block\" : \"none\")};\n`;\n\nexport const Img = styled.img`\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const LoadingImage = styled(ImageContainer)`\n  background: #cccccc;\n  display: block;\n`;\n\nclass NavBarProfile extends Component {\n  state = {\n    imageLoaded: false\n  };\n\n  // profileRedirect = () => this.props.history.push(\"/profile\");\n\n  onImageLoaded = async () => this.setState({ imageLoaded: true });\n  logOut = async () => {\n    try {\n      await auth.logout();\n      // Remove localStorage\n      localStorage.removeItem(\"solid-auth-client\");\n      // Redirect to login page\n      this.props.history.push(\"/login\");\n    } catch (error) {\n      // console.log(`Error: ${error}`);\n    }\n  };\n  render() {\n    const { t, img } = this.props;\n    const { imageLoaded } = this.state;\n\n    const profileOpts = [\n      // {\n      //   label:  t(\"navBar.profile\"),\n      //   onClick: this.profileRedirect\n      // },\n      {\n        label: t(\"navBar.logOut\"),\n        onClick: this.logOut\n      }\n    ];\n\n    return img ? (\n      <Dropdown actions={profileOpts} className=\"nav-bar--profile\" hover={true}>\n        <ImageContainer show={imageLoaded}>\n          {/* <Img\n            show={imageLoaded}\n            src={img}\n            alt=\"profile\"\n            onLoad={this.onImageLoaded}\n          /> */}\n        </ImageContainer>\n        {!imageLoaded && <LoadingImage show={true} />}\n      </Dropdown>\n    ) : (\n      <div />\n    );\n  }\n}\n\nexport default NavBarProfile;\n"]},"metadata":{},"sourceType":"module"}